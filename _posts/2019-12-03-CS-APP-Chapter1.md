---
title: CS-APP 读书笔记（第一章）
tags: CS-APP
categories: OS
---

## 摘录

系统中所有的信息---包括磁盘文件，内存中的程序，内存中存放的用户数据以及网络上传送的数据，都是由一串比特表示的。区分不同数据对象的唯一方法是我们读到这些数据对象时的上下文。比如，在不同的上下文，一个同样的字节序列可能表示一个整数，浮点数，字符串或者机器指令。
<!--more-->

在这里，GCC编译器驱动程序读取源程序文件hello.c，并把它翻译成一个可执行目标文件hello。这个翻译过程可分为四个阶段完成，如下图所示：<br/>![]({{site_url}}/assets/csapp/ch1/1-3.png)

贯穿整个系统的是一组电子通道，称作总线，它携带信息字节并负责在各个部件间传递。通常总线被设计成传送定长的字节块，也就是字。通常所说的电脑32位还是64位就是由总线的字来决定。

中央处理单元（CPU），简称处理器，是解释（或执行）存储在主存中指令的引擎。处理器的核心是一个大小为一个字的存储设备（或寄存器），称为程序计数器（PC）。在任何时刻，PC都指向主存中的某条机器语言指令（即含有该条指令的地址）。

根据机械原理，较大的存储设备要比较小的存储运行得慢，而快速设备的造价远高于同类的低速设备。针对处理器和主存之间的读取速度的差异，需要用到更快更小的高速缓存存储器。

每个计算机的存储设备都被组织成了一个存储器层次结构，如下图所示：<br/>![]({{site_url}}/assets/csapp/ch1/1-9.png)

Amdahl定律：该定律的主要思想是，当我们对系统的某个部分加速时，其对系统整体性能的影响取决于该部分的重要性和加速程度。若系统执行某应用程序需要时间为$T_{old}$。 假设系统某部分所需执行时间与该时间的比例为a，而该部分的性能提升比例为k。 即该部分初始所需时间为$aT_{old}$，现在所需时间为$(aT_{old})/k$。 因此，总的执行时间应为

$$
    T_{new}=(1-a)T_{old}+(aT_{old})/k=T_{old}[(1-a)+a/k]
$$

由此，可以计算出加速比$S=T_{old}/T_{new}$为

$$
    S=\frac 1{(1-a)+a/k}
$$

操作系统内核是应用程序和硬件之间的媒介。它提供了三个基本的抽象： 文件是对I/O设备的抽象；虚拟内存是对主存和硬盘的抽象；进程是处理器，主存和I/O设备的抽象。

## 练习题解答

* 1.1-A 
$$
    \frac{1}{(1-\frac{1500}{2500}) + \frac{\frac{1500}{2500}}{\frac{150}{100}}} = 1.25
$$

* 1.1-B 假设速度为x，那么满足下式：
$$
    \frac{1}{(1-\frac{1500}{2500})+\frac{\frac{1500}{2500}}{\frac{x}{100}}}=1.67
$$
可以得到$x=300$

* 1.2 
$$
    \frac{1}{(1-0.8)+\frac{0.8}{k}}=2
$$
可以得到$k=\frac{8}{3}=2.67$

     
